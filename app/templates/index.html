{% extends "base.html" %} {% block title %}Find Schools Near You - NSW School
Finder{% endblock %} {% block content %}
<div class="max-w-4xl mx-auto">
  <h1
    class="text-3xl sm:text-4xl md:text-5xl font-hand font-bold text-black mb-2 text-center"
  >
    Discover NSW Schools
  </h1>

  <p
    class="text-base sm:text-lg md:text-xl text-gray-700 mb-12 sm:mb-16 md:mb-20 font-sans text-center"
  >
    Find schools that meet your needs in NSW
  </p>

  {% if error %}
  <div class="bg-red-50 border-2 border-black rounded-lg p-4 mb-6">
    <p class="text-red-800 font-sans">{{ error }}</p>
  </div>
  {% endif %}

  <form
    method="POST"
    action="/results"
    class="bg-white border-2 border-black rounded-lg px-12 pb-12 pt-4 space-y-6 mb-4 sm:mb-20"
  >
    <!-- Search by Location -->
    <div class="space-y-3">
      <div
        class="flex items-center gap-2 text-xl sm:text-2xl font-hand font-bold text-black mb-4 sm:mb-6"
      >
        <svg
          class="w-6 h-6 flex-shrink-0"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
          aria-hidden="true"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
          ></path>
        </svg>
        <span>Search Schools</span>
      </div>

      <label class="text-sm font-medium text-black font-hand"
        >Search by Suburb or Postcode
      </label>
      <div class="flex flex-col sm:flex-row gap-3">
        <input
          type="text"
          id="suburb"
          name="suburb"
          value="{{ suburb or '' }}"
          class="flex-1 px-4 py-3 border-2 border-black rounded-lg focus:ring-2 focus:ring-black font-sans"
          placeholder="e.g., Parramatta"
          aria-label="Suburb name"
        />
        <input
          type="text"
          id="postcode"
          name="postcode"
          value="{{ postcode or '' }}"
          class="flex-1 px-4 py-3 border-2 border-black rounded-lg focus:ring-2 focus:ring-black font-sans"
          placeholder="Postcode"
          pattern="[0-9]{4}"
          maxlength="4"
          aria-label="Postcode"
        />
      </div>
    </div>

    <!-- Filters Row -->
    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
      <!-- School Level -->
      <div>
        <label
          for="level"
          class="text-sm font-medium text-black block mb-2 font-hand"
          >School Level</label
        >
        <select
          id="level"
          name="level"
          class="w-full px-3 py-2 border-2 border-black rounded-lg focus:ring-2 focus:ring-black font-sans text-sm"
          aria-label="School level"
        >
          <option value="">All Levels</option>
          <option value="Primary School">Primary School</option>
          <option value="Secondary School">Secondary School</option>
          <option value="Central/Community School">
            Central/Community School
          </option>
          <option value="Infants School">Infants School</option>
          <option value="Schools for Specific Purposes">
            Schools for Specific Purposes
          </option>
          <option value="Environmental Education Centre">
            Environmental Education Centre
          </option>
          <option value="Other School">Other School</option>
        </select>
      </div>

      <!-- Search Radius -->
      <div>
        <label
          for="radius"
          class="text-sm font-medium text-black block mb-2 font-hand"
          >Radius</label
        >
        <select
          id="radius"
          name="radius"
          class="w-full px-3 py-2 border-2 border-black rounded-lg focus:ring-2 focus:ring-black font-sans text-sm"
          aria-label="Search radius in kilometers"
        >
          <option value="3">3 km</option>
          <option
            value="5"
            selected
          >
            5 km
          </option>
          <option value="10">10 km</option>
          <option value="15">15 km</option>
        </select>
      </div>

      <!-- Additional Options -->
      <div>
        <label
          for="options"
          class="text-sm font-medium text-black block mb-2 font-hand"
          >Additional Options</label
        >
        <button
          type="button"
          id="toggleOptions"
          class="w-full px-3 py-2 border-2 border-black rounded-lg hover:bg-gray-50 font-sans text-sm transition-colors"
          aria-expanded="false"
          aria-controls="advancedFilters"
        >
          More filters ▼
        </button>
      </div>
    </div>

    <!-- Advanced Filters (Hidden by default) -->
    <fieldset
      id="advancedFilters"
      class="hidden space-y-4 pt-4 border-t-2 border-black"
    >
      <legend class="font-hand font-bold text-black text-lg">Additional Filters</legend>

      <div class="space-y-2">
        <label
          class="flex items-center gap-3 p-2 rounded hover:bg-gray-50 cursor-pointer"
        >
          <input
            type="checkbox"
            name="has_preschool"
            value="Y"
            class="w-5 h-5 text-black focus:ring-black rounded"
          />
          <span class="font-sans text-sm">Preschool on site</span>
        </label>

        <label
          class="flex items-center gap-3 p-2 rounded hover:bg-gray-50 cursor-pointer"
        >
          <input
            type="checkbox"
            name="has_intensive_english"
            value="Y"
            class="w-5 h-5 text-black focus:ring-black rounded"
          />
          <span class="font-sans text-sm">English language support</span>
        </label>

        <label
          class="flex items-center gap-3 p-2 rounded hover:bg-gray-50 cursor-pointer"
        >
          <input
            type="checkbox"
            name="has_opportunity_class"
            value="Y"
            class="w-5 h-5 text-black focus:ring-black rounded"
          />
          <span class="font-sans text-sm">Opportunity class</span>
        </label>

        <label
          class="flex items-center gap-3 p-2 rounded hover:bg-gray-50 cursor-pointer"
        >
          <input
            type="checkbox"
            name="not_selective"
            value="Y"
            class="w-5 h-5 text-black focus:ring-black rounded"
          />
          <span class="font-sans text-sm">Not a selective school</span>
        </label>

        <label
          class="flex items-center gap-3 p-2 rounded hover:bg-gray-50 cursor-pointer"
        >
          <input
            type="checkbox"
            name="has_distance_education"
            value="Y"
            class="w-5 h-5 text-black focus:ring-black rounded"
          />
          <span class="font-sans text-sm">Distance education available</span>
        </label>
      </div>
    </fieldset>

    <button
      type="submit"
      class="w-full bg-black text-white px-6 py-3 rounded-lg font-hand font-bold text-lg hover:bg-gray-800 transition-colors"
    >
      Search Schools
    </button>

    <div class="mt-4 text-center text-sm text-gray-700 font-sans">
      <p>Enter at least a suburb or postcode to search.</p>
    </div>
  </form>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const toggleBtn = document.getElementById('toggleOptions');
    const advancedFilters = document.getElementById('advancedFilters');
    let isOpen = false;

    toggleBtn.addEventListener('click', function (e) {
      e.preventDefault();
      isOpen = !isOpen;

      if (isOpen) {
        advancedFilters.classList.remove('hidden');
        toggleBtn.textContent = 'Fewer filters ▲';
        toggleBtn.setAttribute('aria-expanded', 'true');
      } else {
        advancedFilters.classList.add('hidden');
        toggleBtn.textContent = 'More filters ▼';
        toggleBtn.setAttribute('aria-expanded', 'false');
      }
    });
  });
</script>
{% endblock %}
